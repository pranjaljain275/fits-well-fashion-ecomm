<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mens FITs WELL</title>
    <link rel="stylesheet" href="style/header-footer.css" />
    <link rel="stylesheet" href="style/mens.css" />
    <script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous">
    </script>
    <script> 
      $(function(){
      $("#headers").load("header.html"); 
      $("#footers").load("footer.html"); 
      });
    </script>
  </head>
  <body>
    <header id="headers"></header>

    <h1>Men's All Activewear</h1>
    <div id="sortfilter">
      <div id="sort">
        <select onchange="sorting()" id="sorting">
          <option value="">Sort By Price</option>
          <option value="asc">Low to High</option>
          <option value="desc">High to Low</option>
        </select>
      </div>
      <div id="filter">
        <select onchange="filtering()" id="filtering">
          <option value="">Filter by category</option>
          <option value="Zella">Zella</option>
          <option value="Stance">Stance</option>
          <option value="Nike">Nike</option>
        </select>
      </div>
    </div>
    <div id="container"></div>

    <footer id="footers"></footer>
  </body>


</html>

<script>

  let images = [
    "https://n.nordstrommedia.com/id/sr3/d7e22c74-3cf7-4f36-9482-ab2ffe5349f4.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/3ab97e12-ff80-4f22-b6c2-d7478737f54c.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/32e093b7-543b-42af-b8f9-8081764e53ae.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4414f97d-cadf-41a4-ba5b-9aa8e5a0a580.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/7ec58b1d-4126-40eb-adc7-2b50f7b18325.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0ce142d2-394d-4b74-9af1-061c8a13a90a.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/7e5c8bbf-e16e-4e6f-85c2-6d55f7ca6772.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/03ca8a7e-5f9e-4f2f-8412-0ddafa9cd5db.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/d7e22c74-3cf7-4f36-9482-ab2ffe5349f4.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/3ab97e12-ff80-4f22-b6c2-d7478737f54c.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/32e093b7-543b-42af-b8f9-8081764e53ae.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4414f97d-cadf-41a4-ba5b-9aa8e5a0a580.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/7ec58b1d-4126-40eb-adc7-2b50f7b18325.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0ce142d2-394d-4b74-9af1-061c8a13a90a.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/7e5c8bbf-e16e-4e6f-85c2-6d55f7ca6772.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/03ca8a7e-5f9e-4f2f-8412-0ddafa9cd5db.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/d7e22c74-3cf7-4f36-9482-ab2ffe5349f4.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/3ab97e12-ff80-4f22-b6c2-d7478737f54c.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/32e093b7-543b-42af-b8f9-8081764e53ae.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4414f97d-cadf-41a4-ba5b-9aa8e5a0a580.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/7ec58b1d-4126-40eb-adc7-2b50f7b18325.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0ce142d2-394d-4b74-9af1-061c8a13a90a.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/7e5c8bbf-e16e-4e6f-85c2-6d55f7ca6772.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/03ca8a7e-5f9e-4f2f-8412-0ddafa9cd5db.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
  ];

  let categories = [
    "Zella",
    "Zella",
    "Stance",
    "Nike",
    "Stance",
    "Nike",
    "Rhone",
    "vuori",
    "Zella",
    "Zella",
    "Zella",
    "Stance",
    "Nike",
    "Stance",
    "Nike",
    "Rhone",
    "vuori",
    "Zella",
    "Zella",
    "Zella",
    "Stance",
    "Nike",
    "Stance",
    "Nike",
    "Rhone",
    "vuori",
    "Zella",
    "Zella",
    "Zella",
    "Stance",
    "Nike",
    "Stance",
    "Nike",
    "Rhone",
    "vuori",
    "Zella",
    "Nike",
    "Rhone",
    "vuori",
    "Zella",
  ];

  let titles = [
    "Session Quarter Zip Pullover",
    "Sunday Performance Jogger Sweatpants",
    "Men's Seamless Quarter Zip Pullover",
    "Dri-FIT Vent Max Pants",
    "Dri-FIT Static Training T-Shirt",
    "Men's TKA Kataka Fleece Pullover",
    "Men's 3-Pack Performance Tab Ankle Socks",
    "Newington Waterproof 550 Fill Power Down Jacket",
    "Live In Sporty Pullover Hoodie",
    "Dry 6-Pack Everyday Plus Cushion Crew Training Socks",
    "Men's Seamless Quarter Zip Pullover",
    "Dri-FIT Vent Max Pants",
    "Dri-FIT Static Training T-Shirt",
    "Men's TKA Kataka Fleece Pullover",
    "Men's 3-Pack Performance Tab Ankle Socks",
    "Session Quarter Zip Pullover",
    "Sunday Performance Jogger Sweatpants",
    "Men's Seamless Quarter Zip Pullover",
    "Dri-FIT Vent Max Pants",
    "Men's Seamless Quarter Zip Pullover",
    "Session Quarter Zip Pullover",
    "Sunday Performance Jogger Sweatpants",
    "Men's Seamless Quarter Zip Pullover",
    "Dri-FIT Vent Max Pants",
    "Dri-FIT Static Training T-Shirt",
    "Men's TKA Kataka Fleece Pullover",
    "Men's 3-Pack Performance Tab Ankle Socks",
    "Newington Waterproof 550 Fill Power Down Jacket",
    "Live In Sporty Pullover Hoodie",
    "Dry 6-Pack Everyday Plus Cushion Crew Training Socks",
    "Men's Seamless Quarter Zip Pullover",
    "Dri-FIT Vent Max Pants",
    "Dri-FIT Static Training T-Shirt",
    "Men's TKA Kataka Fleece Pullover",
    "Men's 3-Pack Performance Tab Ankle Socks",
    "Session Quarter Zip Pullover",
    "Sunday Performance Jogger Sweatpants",
    "Men's Seamless Quarter Zip Pullover",
    "Dri-FIT Vent Max Pants",
    "Men's Seamless Quarter Zip Pullover",
  ];

  let prices = [
    89.00, 129.00, 999.00, 589.00, 749.00, 1299.00, 1479.00, 1589.00, 139.00, 1729.00, 149.00, 49.00, 1239.00, 1479.00,
    1589.00, 1439.00, 3579.00, 1459.00, 4789.00, 579.00, 479.00, 369.00, 689.00, 999.00, 899.00, 799.00, 699.00, 599.00,
    499.00, 399.00, 99.00, 299.00, 199, 1439.00, 3579.00, 1459.00, 4789.00, 579.00, 2799.00, 3499.00
  ];

  let data = [];

  for (let i = 0; i < images.length; i++) {
    let obj = {};
    obj["image"] = images[i];
    obj["category"] = categories[i];
    obj["title"] = titles[i];
    obj["price"] = prices[i];
    data.push(obj);
  }

  localStorage.setItem("mensProduct", JSON.stringify(data));

  let cartData = JSON.parse(localStorage.getItem("cartItem")) || [];

  function sorting() {
    let sort = document.getElementById("sorting").value;
    console.log;
    if (sort === "asc") {
      data.sort((a, b) => {
        return a.price - b.price;
      });
    }
    if (sort === "desc") {
      data.sort((a, b) => {
        return b.price - a.price;
      });
    }
    if(sort === "") {
        mensData(data);
    }
    mensData(data);
  }

  function filtering() {
    let filter = document.querySelector("#filtering").value;
    if(filter == "") {
        mensData(data);
    } else {
        let filteredData = data.filter(function (elem) {
          return elem.category == filter;
        });
        mensData(filteredData);
    }
  }

  function search() {
    let input = document.querySelector("#search").value;
    let searchData = data.filter(function (elem) {
      return elem.title.toLowerCase().includes(input.toLowerCase());
    });
    mensData(searchData);
  }

  function mensData(data) {
    document.querySelector("#container").innerHTML = null;

    data.forEach((elem, index) => {
      let div = document.createElement("div");

      let image = document.createElement("img");
      image.setAttribute("src", elem.image);

      let category = document.createElement("p");
      category.textContent = elem.category;

      let title = document.createElement("h2");
      title.textContent = elem.title;

      let price = document.createElement("p");
      price.textContent = `Rs ${elem.price}`;

      let addbtn = document.createElement("button");
      addbtn.textContent = "Add To Cart";
      addbtn.addEventListener("click", function () {
        addCart(elem, index);
      });

      div.append(image, category, title, price, addbtn);

      document.getElementById("container").append(div);
    });

    localStorage.setItem("mensProduct", JSON.stringify(data));
  }
  mensData(data);


  function addCart(elem, index) {
    let res = cartData.find(function (item) {
      if (item.image === elem.image) {
        return true;
      }
    });

    if (!res == true) {
      cartData.push(elem);
      localStorage.setItem("cartItem", JSON.stringify(cartData));
    } else {
      alert("Item already exist in the cart");
    }
  }
</script>
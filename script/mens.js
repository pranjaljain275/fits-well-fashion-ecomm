let data = [
  {
    image:
      "https://n.nordstrommedia.com/id/sr3/d7e22c74-3cf7-4f36-9482-ab2ffe5349f4.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Session Quarter Zip Pullover",
    price: 89,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Sunday Performance Jogger Sweatpants",
    price: 129,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 999,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Dri-FIT Vent Max Pants",
    price: 589,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Dri-FIT Static Training T-Shirt",
    price: 749,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/3ab97e12-ff80-4f22-b6c2-d7478737f54c.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Men's TKA Kataka Fleece Pullover",
    price: 1299,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/32e093b7-543b-42af-b8f9-8081764e53ae.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Rhone",
    title: "Men's 3-Pack Performance Tab Ankle Socks",
    price: 1479,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4414f97d-cadf-41a4-ba5b-9aa8e5a0a580.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "vuori",
    title: "Newington Waterproof 550 Fill Power Down Jacket",
    price: 1589,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/7ec58b1d-4126-40eb-adc7-2b50f7b18325.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Live In Sporty Pullover Hoodie",
    price: 139,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0ce142d2-394d-4b74-9af1-061c8a13a90a.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Dry 6-Pack Everyday Plus Cushion Crew Training Socks",
    price: 1729,
  },

  ,
  {
    image:
      "https://n.nordstrommedia.com/id/sr3/03ca8a7e-5f9e-4f2f-8412-0ddafa9cd5db.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 149,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/7e5c8bbf-e16e-4e6f-85c2-6d55f7ca6772.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Dri-FIT Vent Max Pants",
    price: 49,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/d7e22c74-3cf7-4f36-9482-ab2ffe5349f4.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Dri-FIT Static Training T-Shirt",
    price: 1239,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Men's TKA Kataka Fleece Pullover",
    price: 1479,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Men's 3-Pack Performance Tab Ankle Socks",
    price: 1589,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Rhone",
    title: "Session Quarter Zip Pullover",
    price: 1439,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "vuori",
    title: "Sunday Performance Jogger Sweatpants",
    price: 3579,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/3ab97e12-ff80-4f22-b6c2-d7478737f54c.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 1459,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/32e093b7-543b-42af-b8f9-8081764e53ae.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Dri-FIT Vent Max Pants",
    price: 4789,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4414f97d-cadf-…-ba5b-9aa8e5a0a580.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 579,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/7ec58b1d-4126-40eb-adc7-2b50f7b18325.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Session Quarter Zip Pullover",
    price: 479,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0ce142d2-394d-4b74-9af1-061c8a13a90a.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Sunday Performance Jogger Sweatpants",
    price: 369,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/03ca8a7e-5f9e-4f2f-8412-0ddafa9cd5db.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 689,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/7e5c8bbf-e16e-4e6f-85c2-6d55f7ca6772.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Dri-FIT Vent Max Pants",
    price: 999,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/d7e22c74-3cf7-4f36-9482-ab2ffe5349f4.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Rhone",
    title: "Dri-FIT Static Training T-Shirt",
    price: 899,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "vuori",
    title: "Men's TKA Kataka Fleece Pullover",
    price: 799,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Men's 3-Pack Performance Tab Ankle Socks",
    price: 699,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Newington Waterproof 550 Fill Power Down Jacket",
    price: 599,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Live In Sporty Pullover Hoodie",
    price: 499,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/3ab97e12-ff80-4f22-b6c2-d7478737f54c.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Dry 6-Pack Everyday Plus Cushion Crew Training Socks",
    price: 399,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/32e093b7-543b-42af-b8f9-8081764e53ae.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 99,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4414f97d-cadf-…-ba5b-9aa8e5a0a580.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Stance",
    title: "Dri-FIT Vent Max Pants",
    price: 299,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/7ec58b1d-4126-40eb-adc7-2b50f7b18325.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Dri-FIT Static Training T-Shirt",
    price: 199,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0ce142d2-394d-4b74-9af1-061c8a13a90a.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Rhone",
    title: "Men's TKA Kataka Fleece Pullover",
    price: 1439,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/03ca8a7e-5f9e-4f2f-8412-0ddafa9cd5db.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "vuori",
    title: "Men's 3-Pack Performance Tab Ankle Socks",
    price: 3579,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/7e5c8bbf-e16e-4e6f-85c2-6d55f7ca6772.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Session Quarter Zip Pullover",
    price: 1459,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/4664a52d-25f1-443e-9c97-38183c9e0c46.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Nike",
    title: "Sunday Performance Jogger Sweatpants",
    price: 4789,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/0457f2b6-b392-4bc4-ba7a-f7511ff0204b.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Rhone",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 579,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/f33eb0cd-f3aa-4953-b4ae-3aba35d2fae3.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "vuori",
    title: "Dri-FIT Vent Max Pants",
    price: 2799,
  },

  {
    image:
      "https://n.nordstrommedia.com/id/sr3/54bfd9bd-f13b-4d4c-a09d-3ddb8499b54e.jpeg?h=365&amp;w=240&amp;dpr=2",
    category: "Zella",
    title: "Men's Seamless Quarter Zip Pullover",
    price: 3499,
  },
];

localStorage.setItem("mensProduct", JSON.stringify(data));

let cartData = JSON.parse(localStorage.getItem("cartItem")) || [];

function sorting() {
  let sort = document.getElementById("sorting").value;
  console.log;
  if (sort === "asc") {
    data.sort((a, b) => {
      return a.price - b.price;
    });
  }
  if (sort === "desc") {
    data.sort((a, b) => {
      return b.price - a.price;
    });
  }
  if (sort === "") {
    mensData(data);
  }
  mensData(data);
}

function filtering() {
  let filter = document.querySelector("#filtering").value;
  if (filter == "") {
    mensData(data);
  } else {
    let filteredData = data.filter(function (elem) {
      return elem.category == filter;
    });
    mensData(filteredData);
  }
}

function search() {
  let input = document.querySelector("#search").value;
  let searchData = data.filter(function (elem) {
    return elem.title.toLowerCase().includes(input.toLowerCase());
  });
  mensData(searchData);
}

function mensData(data) {
  document.querySelector("#container").innerHTML = null;

  data.forEach((elem, index) => {
    let div = document.createElement("div");

    let image = document.createElement("img");
    image.setAttribute("src", elem.image);

    let category = document.createElement("p");
    category.textContent = elem.category;

    let title = document.createElement("h2");
    title.textContent = elem.title;

    let price = document.createElement("p");
    price.textContent = `Rs ${elem.price}`;

    let addbtn = document.createElement("button");
    addbtn.textContent = "Add To Cart";
    addbtn.addEventListener("click", function () {
      addCart(elem, index);
    });

    div.append(image, category, title, price, addbtn);

    document.getElementById("container").append(div);
  });

  localStorage.setItem("mensProduct", JSON.stringify(data));
}
mensData(data);

function addCart(elem, index) {
  let res = cartData.find(function (item) {
    if (item.image === elem.image) {
      return true;
    }
  });

  if (!res == true) {
    cartData.push(elem);
    localStorage.setItem("cartItem", JSON.stringify(cartData));
  } else {
    alert("Item already exist in the cart");
  }
}